<mat-toolbar class="main__toolbar">
  <span>Questionnaire</span>
  <span class="main__spacer"></span>
  <button mat-button (click)="onLogout()">выйти</button>
</mat-toolbar>

<mat-card class="main__block mat-elevation-z4">
  <ng-container *ngFor="let question of currentQuestions">
    <ng-container *ngIf="question">
      <h3>{{ question.title }}</h3>

      <mat-radio-group
        *ngIf="!!question.options; else resetButton"
        aria-labelledby="example-radio-group-label"
        class="main__radio-group"
        (change)="onChange($event, question.id)"
      >
        <mat-radio-button
          [checked]="getSelectedValue(question.id, option.value)"
          class="main__radio-button"
          *ngFor="let option of question.options"
          [value]="option.value"
        >
          {{ option.name }}
        </mat-radio-button>
      </mat-radio-group>

      <ng-template #resetButton>
        <button mat-flat-button color="primary" (click)="resetQuestions()">Заново</button>
      </ng-template>
    </ng-container>
  </ng-container>
</mat-card>
